{
  "version": 3,
  "sources": ["../src/app.js"],
  "sourcesContent": ["/* global wpLazyLoaderEmbeds */\nconst targets = [];\nconst supportsIntersectionObserver = 'IntersectionObserver' in window;\nlet io = null;\n\n/**\n * Load a script async into the document.\n *\n * @param {String} src \n */\nconst loadScript = (src) => {\n\tconst script = document.createElement('script');\n\tscript.src = src;\n\tscript.async = true;\n\tdocument.body.appendChild(script);\n};\n\n/**\n * Callback for Intersection Observer.\n * \n * @param {Array} entries \n * @param {Object} observer \n */\nconst observerCallback = (entries, observer) => {\n\tentries.forEach((entry) => {\n\t\tif (0 < entry.intersectionRatio) {\n\t\t\tconst index = targets.findIndex((item) => item.target === entry.target);\n\t\t\t\n\t\t\tif (index !== -1) {\n\t\t\t\tconst { callback } = targets[index];\n\n\t\t\t\t// Stop observing.\n\t\t\t\tobserver.unobserve(entry.target);\n\n\t\t\t\t// Call the callback loading the script.\n\t\t\t\tcallback();\n\n\t\t\t\t// Remove target.\n\t\t\t\ttargets.splice(index, 1);\n\t\t\t}\n\t\t}\n\n\t\t// Stop observing if we're out of targets.\n\t\tif (0 === targets.length) {\n\t\t\tobserver.disconnect();\n\t\t}\n\t});\n};\n\n/**\n * Initialize IntersectionObserver and configure targets and their respective scripts.\n */\nconst init = () => {\n\tconsole.log(wpLazyLoaderEmbeds);\n    wpLazyLoaderEmbeds.forEach(({selector, script}) => {\n\t\tconst target = document.querySelector(selector);\n\n\t\tif (! target) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst callback = () => {\n\t\t\tloadScript(script);\n\t\t};\n\n\t\tif (io) {\n\t\t\ttargets.push({\n\t\t\t\ttarget,\n\t\t\t\tcallback,\n\t\t\t});\n\n\t\t\tio.observe(target);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t});\n};\n\nif (supportsIntersectionObserver) {\n\tio = new IntersectionObserver(observerCallback);\n\tinit();\n} else {\n\twpLazyLoaderEmbeds.forEach(({script}) => {\n        loadScript(script);\n    });\n}"],
  "mappings": "MACA,GAAM,GAAU,GACV,EAA+B,wBAA0B,QAC3D,EAAK,KAOH,EAAa,AAAC,GAAQ,CAC3B,GAAM,GAAS,SAAS,cAAc,UACtC,EAAO,IAAM,EACb,EAAO,MAAQ,GACf,SAAS,KAAK,YAAY,IASrB,EAAmB,CAAC,EAAS,IAAa,CAC/C,EAAQ,QAAQ,AAAC,GAAU,CAC1B,GAAI,EAAI,EAAM,kBAAmB,CAChC,GAAM,GAAQ,EAAQ,UAAU,AAAC,GAAS,EAAK,SAAW,EAAM,QAEhE,GAAI,IAAU,GAAI,CACjB,GAAM,CAAE,YAAa,EAAQ,GAG7B,EAAS,UAAU,EAAM,QAGzB,IAGA,EAAQ,OAAO,EAAO,IAKxB,AAAI,AAAM,EAAQ,SAAd,GACH,EAAS,gBAQN,EAAO,IAAM,CAClB,QAAQ,IAAI,oBACT,mBAAmB,QAAQ,CAAC,CAAC,WAAU,YAAY,CACrD,GAAM,GAAS,SAAS,cAAc,GAEtC,GAAI,CAAE,EACL,OAGD,GAAM,GAAW,IAAM,CACtB,EAAW,IAGZ,AAAI,EACH,GAAQ,KAAK,CACZ,SACA,aAGD,EAAG,QAAQ,IAEX,OAKH,AAAI,EACH,GAAK,GAAI,sBAAqB,GAC9B,KAEA,mBAAmB,QAAQ,CAAC,CAAC,YAAY,CAClC,EAAW",
  "names": []
}
